{% extends "base.html" %}

{% block title %}Remotes - GitHydra{% endblock %}

{% block content %}
<div class="space-y-8 fade-in-up">
    <div class="flex items-center justify-between">
        <div>
            <h1 class="text-4xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent mb-2">
                Remote Repositories
            </h1>
            <p class="text-gray-400">Manage remote repositories</p>
        </div>
    </div>

    <div class="glass-card p-6">
        <div id="remotes-list" class="space-y-3">
            <div class="flex items-center justify-center py-12">
                <div class="spinner"></div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
async function loadRemotes() {
    try {
        const res = await fetch('/api/git/remotes');
        const data = await res.json();
        
        if (data.success) {
            const remotesHtml = data.data.map(remote => `
                <div class="list-item">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-4">
                            <i class="fas fa-server text-2xl text-primary"></i>
                            <div>
                                <div class="font-bold text-lg">${remote.name}</div>
                                <div class="text-sm text-gray-400">${remote.url}</div>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
            document.getElementById('remotes-list').innerHTML = remotesHtml || '<p class="text-gray-400 text-center py-8">No remotes configured</p>';
        }
    } catch (error) {
        showToast('Error loading remotes: ' + error.message, 'error');
    }
}

loadRemotes();
</script>
{% endblock %}
